import { Widget } from '@phosphor/widgets';
import { ILogger, Emitter, Event, ContributionProvider, MaybePromise } from '../common';
export declare const WidgetFactory: unique symbol;
/**
 * `OpenHandler` should be implemented to provide a new opener.
 */
export interface WidgetFactory {
    readonly id: string;
    /**
     * Creates a widget and attaches it to the shell
     * The options need to be serializable JSON data.
     */
    createWidget(options?: any): MaybePromise<Widget>;
}
export interface WidgetConstructionOptions {
    /**
     * the id of the widget factory to use.
     */
    factoryId: string;
    options?: any;
}
export interface DidCreateWidgetEvent {
    readonly widget: Widget;
    readonly factoryId: string;
}
/**
 * Creates and manages widgets.
 */
export declare class WidgetManager {
    protected _cachedFactories: Map<string, WidgetFactory>;
    protected readonly widgets: Map<string, Widget>;
    protected readonly widgetPromises: Map<string, MaybePromise<Widget>>;
    protected readonly factoryProvider: ContributionProvider<WidgetFactory>;
    protected readonly logger: ILogger;
    protected readonly onDidCreateWidgetEmitter: Emitter<DidCreateWidgetEvent>;
    readonly onDidCreateWidget: Event<DidCreateWidgetEvent>;
    getWidgets(factoryId: string): Widget[];
    tryGetWidget<T extends Widget>(factoryId: string, options?: any): T | undefined;
    /**
     * return the widget for the given description
     */
    getWidget<T extends Widget>(factoryId: string, options?: any): Promise<T | undefined>;
    protected doGetWidget<T extends Widget>(key: string): Promise<T | undefined>;
    getOrCreateWidget<T extends Widget>(factoryId: string, options?: any): Promise<T>;
    getDescription(widget: Widget): WidgetConstructionOptions | undefined;
    protected toKey(options: WidgetConstructionOptions): string;
    protected fromKey(key: string): WidgetConstructionOptions;
    protected readonly factories: Map<string, WidgetFactory>;
}
