import { Message } from "vscode-jsonrpc";
import { ILogger } from "../../common";
export interface ResolvedConnectionErrorHandlerOptions {
    readonly serverName: string;
    readonly logger: ILogger;
    /**
     * The maximum amout of errors allowed before stopping the server.
     */
    readonly maxErrors: number;
    /**
     * The maimum amount of restarts allowed in the restart interval.
     */
    readonly maxRestarts: number;
    /**
     * In minutes.
     */
    readonly restartInterval: number;
}
export declare type ConnectionErrorHandlerOptions = Partial<ResolvedConnectionErrorHandlerOptions> & {
    readonly serverName: string;
    readonly logger: ILogger;
};
export declare class ConnectionErrorHandler {
    protected readonly options: ResolvedConnectionErrorHandlerOptions;
    constructor(options: ConnectionErrorHandlerOptions);
    shouldStop(error: Error, message?: Message, count?: number): boolean;
    protected readonly restarts: number[];
    shouldRestart(): boolean;
}
