"use strict";
/*
 * Copyright (C) 2017 TypeFox and others.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 */
Object.defineProperty(exports, "__esModule", { value: true });
require("reflect-metadata");
var logger_1 = require("vscode-ws-jsonrpc/lib/logger");
var vscode_jsonrpc_1 = require("vscode-jsonrpc");
var ipc_protocol_1 = require("./ipc-protocol");
ipc_protocol_1.checkParentAlive();
var reader = new vscode_jsonrpc_1.IPCMessageReader(process);
var writer = new vscode_jsonrpc_1.IPCMessageWriter(process);
var logger = new logger_1.ConsoleLogger();
var connection = vscode_jsonrpc_1.createMessageConnection(reader, writer, logger);
connection.trace(vscode_jsonrpc_1.Trace.Off, {
    log: function (message, data) { return console.log(message + " " + data); }
});
var entryPoint = require(ipc_protocol_1.ipcEntryPoint).default;
entryPoint(connection);
//# sourceMappingURL=ipc-bootstrap.js.map